{"version":3,"sources":["../../src/components/DeployItem.js"],"names":["DeployItem","deploy","site","id","deploy_url","textTransform","context","replace","branch","commit_url","commit_ref","substring","state","deploy_time","published_deploy","title","textAlign","Date","created_at","ArrowTopRightIcon","name","propTypes","PropTypes","shape","string","isRequired","number"],"mappings":"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","sourcesContent":["/* eslint-disable camelcase */\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { Card, Stack, Grid, Box, Flex, Text, Button, Badge } from \"@sanity/ui\";\nimport { ArrowTopRightIcon } from \"@sanity/icons\";\nimport Tooltip from \"./Tooltip\";\nimport { formatDeployTime, formatDeployDate, getDeployStatus } from \"../utils\";\n\nexport default function DeployItem({ deploy, site }) {\n  return (\n    <Card borderBottom as=\"li\" padding={4} radius={2} key={deploy?.id}>\n      <Grid columns={6} justify=\"space-between\" align=\"center\">\n        <Box column={4}>\n          <Stack space={3}>\n            <Flex align=\"center\">\n              <Text weight=\"semibold\">\n                <a\n                  href={deploy?.deploy_url}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  style={{ textTransform: `capitalize` }}\n                >\n                  {deploy?.context.replace(\"-\", \" \")}\n                </a>\n              </Text>\n              <Text weight=\"semibold\">\n                {\" \"}\n                :{deploy?.branch}@\n                <a\n                  href={deploy?.commit_url || \"\"}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                >\n                  {deploy?.commit_ref?.substring(0, 7) || \"HEAD\"}{\" \"}\n                </a>\n              </Text>\n              {deploy.state === \"new\" && !deploy?.deploy_time && (\n                <Badge mode=\"outline\" tone=\"caution\" padding={1} marginLeft=\"1\">\n                  New\n                </Badge>\n              )}\n              {deploy.state === \"building\" && (\n                <Badge mode=\"outline\" tone=\"caution\" padding={1} marginLeft=\"1\">\n                  Building\n                </Badge>\n              )}\n              {getDeployStatus(deploy, site?.published_deploy?.id) ===\n                \"published\" && (\n                <Badge\n                  mode=\"outline\"\n                  tone=\"positive\"\n                  padding={1}\n                  marginLeft=\"1\"\n                >\n                  Published\n                </Badge>\n              )}\n              {getDeployStatus(deploy) === \"canceled\" && (\n                <Badge mode=\"outline\" padding={1} marginLeft=\"1\">\n                  Canceled\n                </Badge>\n              )}\n              {getDeployStatus(deploy) === \"failed\" && (\n                <Badge\n                  mode=\"outline\"\n                  tone=\"critical\"\n                  padding={1}\n                  marginLeft=\"1\"\n                >\n                  Failed\n                </Badge>\n              )}\n              {getDeployStatus(deploy) === \"failed_due_to_plugin_error\" && (\n                <Badge\n                  mode=\"outline\"\n                  tone=\"critical\"\n                  padding={1}\n                  marginLeft=\"1\"\n                >\n                  Failed Due To Plugin Error\n                </Badge>\n              )}\n            </Flex>\n            <Text muted>{deploy?.title || \"No deploy message\"}</Text>\n          </Stack>\n        </Box>\n        <Flex\n          column={2}\n          justify=\"flex-end\"\n          align=\"center\"\n          style={{ textAlign: \"right\" }}\n        >\n          <Stack space={3}>\n            <Text weight=\"semibold\">\n              {formatDeployDate(new Date(deploy?.created_at))}\n            </Text>\n            {deploy?.deploy_time && (\n              <Text muted size={1}>\n                {formatDeployTime(deploy?.deploy_time)}\n              </Text>\n            )}\n          </Stack>\n          <Box marginLeft={2}>\n            <Tooltip text=\"View Deploy\">\n              <Button\n                tone=\"primary\"\n                icon={ArrowTopRightIcon}\n                mode=\"ghost\"\n                as=\"a\"\n                href={`https://app.netlify.com/sites/${deploy?.name}/deploys/${deploy?.id}`}\n                target=\"_blank\"\n                rel=\"noopener noreferrer\"\n              />\n            </Tooltip>\n          </Box>\n        </Flex>\n      </Grid>\n    </Card>\n  );\n}\n\nDeployItem.propTypes = {\n  deploy: PropTypes.shape({\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string,\n    name: PropTypes.string.isRequired,\n    created_at: PropTypes.string.isRequired,\n    context: PropTypes.string.isRequired,\n    branch: PropTypes.string.isRequired,\n    commit_url: PropTypes.string,\n    commit_ref: PropTypes.string,\n    deploy_time: PropTypes.number,\n    state: PropTypes.string.isRequired,\n    deploy_url: PropTypes.string.isRequired,\n  }).isRequired,\n  site: PropTypes.shape({\n    published_deploy: PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }),\n  }).isRequired,\n};\n"],"file":"DeployItem.js"}