{"version":3,"sources":["../../src/components/Icon.js"],"names":["Icon","props","React","useState","icon","setIcon","useEffect","initializeBadge","siteId","interval","setInterval","BADGE_REFRESH_INTERVAL","clearInterval","then","res","ok","Error","statusText","text","catch","__html"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;AAEe,SAASA,IAAT,CAAcC,KAAd,EAAqB;AAClC,wBAAwBC,eAAMC,QAAN,CAAe,IAAf,CAAxB;AAAA;AAAA,MAAOC,IAAP;AAAA,MAAaC,OAAb;;AAEAH,iBAAMI,SAAN,CAAgB,MAAM;AACpBC,IAAAA,eAAe;AAChB,GAFD,EAEG,CAACC,cAAD,CAFH,EAHkC,CAOlC;;;AACAN,iBAAMI,SAAN,CAAgB,MAAM;AACpB,QAAMG,QAAQ,GAAGC,WAAW,CAAC,MAAM;AACjCH,MAAAA,eAAe;AAChB,KAF2B,EAEzBI,8BAFyB,CAA5B;AAGA,WAAO,MAAMC,aAAa,CAACH,QAAD,CAA1B;AACD,GALD,EAKG,EALH;;AAOA,WAASF,eAAT,GAA2B;AACzB,6BAAaC,cAAb,EACGK,IADH,CACSC,GAAD,IAAS;AACb,UAAI,CAACA,GAAG,CAACC,EAAT,EAAa,MAAM,IAAIC,KAAJ,CAAUF,GAAG,CAACG,UAAd,CAAN;AACb,aAAOH,GAAG,CAACI,IAAJ,EAAP;AACD,KAJH,EAKGL,IALH,CAKQR,OALR,EAMGc,KANH,CAMS,MAAMd,OAAO,oBANtB;AAOD,GAvBiC,CAyBlC;;;AACA,sBAAO;AAAK,IAAA,uBAAuB,EAAE;AAAEe,MAAAA,MAAM,EAAEhB;AAAV;AAA9B,IAAP;AACD","sourcesContent":["import React from \"react\";\nimport { siteId, BADGE_REFRESH_INTERVAL } from \"../config\";\nimport { getSiteBadge } from \"../utils\";\n\nexport default function Icon(props) {\n  const [icon, setIcon] = React.useState(null);\n\n  React.useEffect(() => {\n    initializeBadge();\n  }, [siteId]);\n\n  // Refresh icon on every interval\n  React.useEffect(() => {\n    const interval = setInterval(() => {\n      initializeBadge();\n    }, BADGE_REFRESH_INTERVAL);\n    return () => clearInterval(interval);\n  }, []);\n\n  function initializeBadge() {\n    getSiteBadge(siteId)\n      .then((res) => {\n        if (!res.ok) throw new Error(res.statusText);\n        return res.text();\n      })\n      .then(setIcon)\n      .catch(() => setIcon(`Netlify Site 404`));\n  }\n\n  // eslint-disable-next-line react/no-danger\n  return <div dangerouslySetInnerHTML={{ __html: icon }} />;\n}\n"],"file":"Icon.js"}